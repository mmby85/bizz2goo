{% extends "blog/base.html" %}
{% load static %}

{% block title %}Demande d'information - Création de Société en Tunisie{% endblock %}

{% block body %}
<style>
    /* --- Global & Page Setup --- */
    body { /* Assuming base.html doesn't set a specific body bg, or this can override */
        background-color: #f4f7f6; /* Light grey background for the page */
        /* Consider adding your preferred font-family here if not set in base.html
           font-family: 'Roboto', 'Open Sans', sans-serif;
        */
    }

    .page-title-section {
        padding: 60px 0 30px; /* More space for a prominent title */
        text-align: center;
        background-color: #ffffff; /* White background for title area if hero isn't full-width */
        /* If hero is full width and has image, this might be removed or hero adjusted */
    }

    .page-title-section h1 {
        color: #343a40; /* Darker, more standard heading color */
        font-weight: 700; /* Bolder */
        font-size: 2.8rem; /* Larger */
    }

    .lead-form-content-section {
        padding: 50px 0;
    }

    /* --- Text Intro Column (Left Side) --- */
    .text-intro h1, .text-intro h2, .text-intro h3 {
        color: #343a40; /* Consistent dark heading color */
        margin-bottom: 1.25rem;
    }
    .text-intro h1 {
        font-size: 2.2rem; /* Slightly smaller than page title, but still prominent */
        font-weight: 600;
        line-height: 1.3;
    }
    .text-intro h3 {
        font-size: 1.5rem;
        font-weight: 600;
        color: #007bff; /* Primary color for sub-section title */
    }
    .text-intro p, .text-intro ul li {
        color: #555; /* Softer black for paragraph text */
        font-size: 1.05rem; /* Slightly larger for readability */
        line-height: 1.7;
        margin-bottom: 1.25rem;
    }
    .text-intro ul {
        list-style: none;
        padding-left: 0;
    }
    .text-intro ul li {
        padding-left: 28px; /* Space for icon */
        position: relative;
        margin-bottom: 0.75rem;
    }
    .text-intro ul li::before {
        content: "\2713"; /* Checkmark icon */
        color: #28a745; /* Green for benefits */
        font-weight: bold;
        position: absolute;
        left: 0;
        top: 2px; /* Adjust for vertical alignment */
        font-size: 1.2em;
    }

    /* --- Form Container & Elements (Right Side) --- */
    .form-card-container { /* Renamed from custom-form-container */
        background-color: #ffffff; /* White card background */
        padding: 35px;
        border-radius: 12px; /* Softer, larger radius */
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); /* More pronounced shadow */
        margin-top: 1rem; /* Space from the "Veuillez remplir..." text */
    }

    .form-card-container .form-section-title { /* New class for "Veuillez remplir..." */
        font-size: 1.1rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 20px; /* Space before the form card */
        text-align: center;
    }


    .form-card-container .form-label {
        color: #495057; /* Standard dark label color */
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        display: block; /* Ensure it takes full width for spacing */
    }

    .form-card-container .form-group .form-control {
        background-color: #f8f9fa; /* Very light grey for input fields */
        border: 1px solid #ced4da;
        color: #495057;
        border-radius: 0.375rem; /* Bootstrap's default rounded corners */
        padding: 0.85rem 1rem;
        font-size: 0.95rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    .form-card-container .form-group .form-control::placeholder {
        color: #6c757d;
    }
    .form-card-container .form-group .form-control:focus {
        border-color: #007bff; /* Primary color for focus */
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); /* Focus shadow */
        background-color: #fff;
    }

    /* Radio Button Styling */
    .form-card-container .form-check {
        padding-left: 0;
        margin-bottom: 0.75rem;
        display: flex; /* Align radio and label nicely */
        align-items: center;
    }
    .form-card-container .form-check-input[type="radio"] {
        /* Hide default radio */
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        /* Custom radio style */
        height: 20px;
        width: 20px;
        border: 2px solid #adb5bd; /* Grey border */
        border-radius: 50%;
        background-color: #fff;
        margin-right: 0.6rem;
        cursor: pointer;
        position: relative; /* For the inner dot */
        vertical-align: middle; /* Align with label text */
        transition: border-color 0.15s ease-in-out;
    }
    .form-card-container .form-check-input[type="radio"]:checked {
        border-color: #007bff; /* Primary color border when checked */
    }
    .form-card-container .form-check-input[type="radio"]:checked::before {
        content: "";
        display: block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #007bff; /* Primary color inner dot */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    .form-card-container .form-check-label {
        color: #495057;
        font-size: 0.95rem;
        font-weight: normal; /* Lighter than main labels */
        cursor: pointer; /* Make label clickable for radio */
        margin-bottom: 0; /* Reset bootstrap default */
    }


    .form-card-container .btn-submit-lead {
        background-color: #007bff; /* Primary color */
        border-color: #007bff;
        color: #fff;
        padding: 0.85rem 1.5rem;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 0.375rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        width: 100%;
        box-shadow: 0 4px 6px rgba(0, 123, 255, 0.2);
        transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.1s ease;
    }
    .form-card-container .btn-submit-lead:hover {
        background-color: #0056b3; /* Darker shade on hover */
        border-color: #0056b3;
        box-shadow: 0 6px 12px rgba(0, 123, 255, 0.3);
        transform: translateY(-2px); /* Slight lift effect */
    }
    .form-card-container .btn-submit-lead:active {
        transform: translateY(0); /* Reset lift on click */
    }


    /* Alert styling - using more Bootstrap-like colors */
    .form-card-container .alert {
        border-radius: 0.375rem;
        font-size: 0.95rem;
        padding: 0.85rem 1.25rem;
        margin-bottom: 1.5rem; /* More space below alert */
    }
    .form-card-container .alert-success {
        color: #0f5132;
        background-color: #d1e7dd;
        border-color: #badbcc;
    }
    .form-card-container .alert-danger, .form-card-container .alert-error {
        color: #842029;
        background-color: #f8d7da;
        border-color: #f5c2c7;
    }
    .form-card-container .alert-info { /* Added for completeness */
        color: #055160;
        background-color: #cff4fc;
        border-color: #b6effb;
    }

    /* Form field error messages */
    .form-field-error {
        font-size: 0.875rem; /* Slightly larger */
        color: #dc3545; /* Bootstrap's danger color */
        display: block; /* Ensure it takes its own line */
        margin-top: 0.25rem;
    }

    html {
        scroll-behavior: smooth;
    }

    /* Previous CSS styles remain unchanged */

    /* Add animation classes */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-on-scroll {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .animate-on-scroll.visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* Alert animations */
    .alert {
        animation: fadeIn 0.5s ease-out;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

</style>
<script>

     // Add smooth scroll and animations
     document.addEventListener('DOMContentLoaded', function() {
        // Animation observer
        const elements = document.querySelectorAll('.animate-on-scroll');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        elements.forEach(element => observer.observe(element));

        // Smooth scroll to form after 1 second
        setTimeout(() => {
            const formSection = document.getElementById('lead-form');
            if (formSection) {
                formSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }, 1000);
    });
</script>
{# Optional: Your existing hero section #}
<div id="hero">
    {% include "blog/heroSection.html" %}
</div>

{# Page Title Section (if hero doesn't cover this) #}
<div class="page-title-section">
    <div class="container">
        <h1>Demande d'Information Gratuite</h1>
    </div>
</div>

<div class="main"> {# Removed 'main-raised' if we handle elevation per component #}
    <div class="lead-form-content-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 text-intro mb-4 mb-lg-0 animate-on-scroll"> {# Added margin bottom for mobile view #}
                    <h1>Sérieux à propos de la création d'une société en Tunisie ?</h1>
                    <p>Ce livre est votre point de départ...</p>
                    <p>« Créer sa société en Tunisie en 2025 - Lancer son entreprise en Tunisie n'a jamais été aussi simple! » est le seul ouvrage de référence conçu pour les entrepreneurs qui veulent lancer une EI, SUARL ou SARL dans l'industrie ou les services liés à l'industrie: ingénierie, maintenance, conseil, études techniques...</p>
                    <h3 class="mt-4">Avantages Clés :</h3>
                    <ul>
                        <li>Toute la démarche de création juridique et administrative, expliquée étape par étape.</li>
                        <li>Les obligations post-création pour rester conforme dès le démarrage.</li>
                        <li>Les opportunités à saisir: dispositifs d'appui aux PME industrielles, avantages fiscaux, accès aux marchés publics...</li>
                        <li>22 fiches pratiques à télécharger (calcul de rentabilité, étude économique,...).</li>
                    </ul>
                    <p>Un outil 100% adapté au contexte Tunisien et orienté action, pour avancer plus vite et éviter les erreurs dans la création d'une entreprise.</p>
                </div>
                <div class="col-lg-5 animate-on-scroll" id="lead-form">
                    <p class="form-section-title"><strong>Veuillez remplir le formulaire ci-dessous en précisant votre profil :</strong></p>

                    <div class="form-card-container animate-on-scroll">
                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert alert-{% if message.tags %}{{ message.tags }}{% else %}info{% endif %}" role="alert">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endif %}

                        <form method="POST" action="{% url 'lead_generation_form' %}">
                            {% csrf_token %}

                            <div class="form-group mb-3">
                                <label class="form-label">{{ form.profil.label }}</label>
                                {% for radio in form.profil %}
                                <div class="form-check">
                                    {# Note: radio.tag should render <input type="radio" ...> #}
                                    {# Ensure your forms.py widget for RadioSelect adds 'form-check-input' #}
                                    {# If not, you might need to manually add class to {{ radio.tag }} or style `input[type="radio"]` directly #}
                                    {{ radio.tag }}
                                    <label class="form-check-label" for="{{ radio.id_for_label }}">{{ radio.choice_label }}</label>
                                </div>
                                {% endfor %}
                                {% if form.profil.errors %}
                                    <div class="form-field-error">
                                        {% for error in form.profil.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>

                            <div class="form-group mb-3">
                                <label class="form-label" for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                                {{ form.email }} {# Widget should have form-control class #}
                                {% if form.email.errors %}
                                    <div class="form-field-error">
                                        {% for error in form.email.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>

                            <div class="form-group mb-3">
                                <label class="form-label" for="{{ form.nom_prenom.id_for_label }}">{{ form.nom_prenom.label }}</label>
                                {{ form.nom_prenom }}
                                {% if form.nom_prenom.errors %}
                                    <div class="form-field-error">
                                        {% for error in form.nom_prenom.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>

                            <div class="form-group mb-3">
                                <label class="form-label" for="{{ form.telephone.id_for_label }}">{{ form.telephone.label }}</label>
                                {{ form.telephone }}
                                {% if form.telephone.errors %}
                                    <div class="form-field-error">
                                        {% for error in form.telephone.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>

                            <div class="form-group mb-3">
                                <label class="form-label" for="{{ form.gouvernorat.id_for_label }}">{{ form.gouvernorat.label }}</label>
                                {{ form.gouvernorat }}
                                {% if form.gouvernorat.errors %}
                                    <div class="form-field-error">
                                        {% for error in form.gouvernorat.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>

                            <div class="text-center mt-4 pt-2"> {# Added a little top padding #}
                                <button type="submit" class="btn btn-submit-lead">VALIDER</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}